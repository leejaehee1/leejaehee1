# React Hooks 7ì¼ì°¨: useRef, useContext, useReducer

## í•™ìŠµ ëª©í‘œ
- useRefë¥¼ ì‚¬ìš©í•˜ì—¬ DOM ìš”ì†Œì— ì ‘ê·¼í•˜ê³  ê°’ì„ ì €ì¥í•˜ëŠ” ë°©ë²•ì„ ë°°ì›ë‹ˆë‹¤
- useContextë¥¼ í™œìš©í•˜ì—¬ ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì´í•´í•©ë‹ˆë‹¤
- useReducerë¡œ ë³µì¡í•œ ìƒíƒœ ë¡œì§ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•ì„ ìµí™ë‹ˆë‹¤

---

## 1. useRef í›…

### useRefë€?
useRefëŠ” **ì°¸ì¡°(reference)**ë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” í›…ì…ë‹ˆë‹¤. ì£¼ë¡œ ë‘ ê°€ì§€ ìš©ë„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤:
1. DOM ìš”ì†Œì— ì§ì ‘ ì ‘ê·¼í•˜ê¸°
2. ë¦¬ë Œë”ë§ë˜ì§€ ì•ŠëŠ” ê°’ ì €ì¥í•˜ê¸°

### ê¸°ë³¸ ì‚¬ìš©ë²•

```javascript
import { useRef } from 'react';

function MyComponent() {
  const inputRef = useRef(null);
  
  const focusInput = () => {
    inputRef.current.focus();
  };
  
  return (
    <div>
      <input ref={inputRef} type="text" />
      <button onClick={focusInput}>í¬ì»¤ìŠ¤ ì£¼ê¸°</button>
    </div>
  );
}
```

### useRef vs useState ì°¨ì´ì 

| useRef | useState |
|--------|----------|
| ê°’ì´ ë³€ê²½ë˜ì–´ë„ ë¦¬ë Œë”ë§ë˜ì§€ ì•ŠìŒ | ê°’ì´ ë³€ê²½ë˜ë©´ ë¦¬ë Œë”ë§ë¨ |
| `.current` ì†ì„±ìœ¼ë¡œ ì ‘ê·¼ | ì§ì ‘ ì ‘ê·¼ |
| ì–¸ì œë“ ì§€ ë³€ê²½ ê°€ëŠ¥ | setter í•¨ìˆ˜ë¡œë§Œ ë³€ê²½ |

### ì‹¤ìŠµ ì˜ˆì œ: íƒ€ì´ë¨¸ ë§Œë“¤ê¸°

```javascript
import { useState, useRef } from 'react';

function Timer() {
  const [seconds, setSeconds] = useState(0);
  const intervalRef = useRef(null);
  
  const startTimer = () => {
    intervalRef.current = setInterval(() => {
      setSeconds(prev => prev + 1);
    }, 1000);
  };
  
  const stopTimer = () => {
    clearInterval(intervalRef.current);
  };
  
  const resetTimer = () => {
    clearInterval(intervalRef.current);
    setSeconds(0);
  };
  
  return (
    <div>
      <h2>íƒ€ì´ë¨¸: {seconds}ì´ˆ</h2>
      <button onClick={startTimer}>ì‹œì‘</button>
      <button onClick={stopTimer}>ì •ì§€</button>
      <button onClick={resetTimer}>ë¦¬ì…‹</button>
    </div>
  );
}
```

---

## 2. useContext í›…

### useContextë€?
useContextëŠ” Reactì˜ Context APIë¥¼ ì‚¬ìš©í•˜ì—¬ **ì „ì—­ ìƒíƒœ**ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í›…ì…ë‹ˆë‹¤. propsë¡œ ì¼ì¼ì´ ì „ë‹¬í•˜ì§€ ì•Šê³ ë„ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ ì–´ë””ì„œë“  ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Context ìƒì„±í•˜ê¸°

```javascript
import { createContext, useContext, useState } from 'react';

// 1. Context ìƒì„±
const UserContext = createContext();

// 2. Provider ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°
function UserProvider({ children }) {
  const [user, setUser] = useState({ name: 'ìµëª…', age: 0 });
  
  return (
    <UserContext.Provider value={{ user, setUser }}>
      {children}
    </UserContext.Provider>
  );
}

// 3. useContext ì‚¬ìš©í•˜ê¸°
function UserProfile() {
  const { user, setUser } = useContext(UserContext);
  
  return (
    <div>
      <h2>ì‚¬ìš©ì ì •ë³´</h2>
      <p>ì´ë¦„: {user.name}</p>
      <p>ë‚˜ì´: {user.age}</p>
      <button onClick={() => setUser({ name: 'ê¹€ì² ìˆ˜', age: 25 })}>
        ì •ë³´ ë³€ê²½
      </button>
    </div>
  );
}

// 4. ì•±ì—ì„œ ì‚¬ìš©í•˜ê¸°
function App() {
  return (
    <UserProvider>
      <UserProfile />
    </UserProvider>
  );
}
```

### ì‹¤ìŠµ ì˜ˆì œ: í…Œë§ˆ ë³€ê²½ ì‹œìŠ¤í…œ

```javascript
import { createContext, useContext, useState } from 'react';

const ThemeContext = createContext();

function ThemeProvider({ children }) {
  const [theme, setTheme] = useState('light');
  
  const toggleTheme = () => {
    setTheme(prev => prev === 'light' ? 'dark' : 'light');
  };
  
  return (
    <ThemeContext.Provider value={{ theme, toggleTheme }}>
      {children}
    </ThemeContext.Provider>
  );
}

function Header() {
  const { theme, toggleTheme } = useContext(ThemeContext);
  
  return (
    <header style={{ 
      backgroundColor: theme === 'light' ? '#fff' : '#333',
      color: theme === 'light' ? '#333' : '#fff'
    }}>
      <h1>ë‚´ ì›¹ì‚¬ì´íŠ¸</h1>
      <button onClick={toggleTheme}>
        {theme === 'light' ? 'ë‹¤í¬ ëª¨ë“œ' : 'ë¼ì´íŠ¸ ëª¨ë“œ'}
      </button>
    </header>
  );
}

function Content() {
  const { theme } = useContext(ThemeContext);
  
  return (
    <main style={{ 
      backgroundColor: theme === 'light' ? '#f5f5f5' : '#222',
      color: theme === 'light' ? '#333' : '#fff'
    }}>
      <p>í˜„ì¬ í…Œë§ˆ: {theme}</p>
    </main>
  );
}
```

---

## 3. useReducer í›…

### useReducerë€?
useReducerëŠ” **ë³µì¡í•œ ìƒíƒœ ë¡œì§**ì„ ê´€ë¦¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í›…ì…ë‹ˆë‹¤. useStateì˜ ëŒ€ì•ˆìœ¼ë¡œ, ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ê¸°ë³¸ êµ¬ì¡°

```javascript
import { useReducer } from 'react';

// 1. ì´ˆê¸° ìƒíƒœ
const initialState = { count: 0 };

// 2. ë¦¬ë“€ì„œ í•¨ìˆ˜
function reducer(state, action) {
  switch (action.type) {
    case 'INCREMENT':
      return { count: state.count + 1 };
    case 'DECREMENT':
      return { count: state.count - 1 };
    case 'RESET':
      return { count: 0 };
    default:
      return state;
  }
}

// 3. ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©
function Counter() {
  const [state, dispatch] = useReducer(reducer, initialState);
  
  return (
    <div>
      <p>ì¹´ìš´íŠ¸: {state.count}</p>
      <button onClick={() => dispatch({ type: 'INCREMENT' })}>+</button>
      <button onClick={() => dispatch({ type: 'DECREMENT' })}>-</button>
      <button onClick={() => dispatch({ type: 'RESET' })}>ë¦¬ì…‹</button>
    </div>
  );
}
```

### useReducer vs useState ì–¸ì œ ì‚¬ìš©í• ê¹Œ?

**useStateë¥¼ ì‚¬ìš©í•  ë•Œ:**
- ê°„ë‹¨í•œ ìƒíƒœ (ë¬¸ìì—´, ìˆ«ì, ë¶ˆë¦°)
- ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§ì´ ë‹¨ìˆœí•¨

**useReducerë¥¼ ì‚¬ìš©í•  ë•Œ:**
- ë³µì¡í•œ ìƒíƒœ ê°ì²´
- ì—¬ëŸ¬ ìƒíƒœê°€ ì—°ê´€ë˜ì–´ ìˆìŒ
- ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§ì´ ë³µì¡í•¨

### ì‹¤ìŠµ ì˜ˆì œ: í•  ì¼ ëª©ë¡ ê´€ë¦¬

```javascript
import { useReducer, useState } from 'react';

const initialState = {
  todos: [],
  nextId: 1
};

function todoReducer(state, action) {
  switch (action.type) {
    case 'ADD_TODO':
      return {
        ...state,
        todos: [
          ...state.todos,
          {
            id: state.nextId,
            text: action.payload,
            completed: false
          }
        ],
        nextId: state.nextId + 1
      };
    
    case 'TOGGLE_TODO':
      return {
        ...state,
        todos: state.todos.map(todo =>
          todo.id === action.payload
            ? { ...todo, completed: !todo.completed }
            : todo
        )
      };
    
    case 'DELETE_TODO':
      return {
        ...state,
        todos: state.todos.filter(todo => todo.id !== action.payload)
      };
    
    default:
      return state;
  }
}

function TodoApp() {
  const [state, dispatch] = useReducer(todoReducer, initialState);
  const [inputValue, setInputValue] = useState('');
  
  const handleSubmit = (e) => {
    e.preventDefault();
    if (inputValue.trim()) {
      dispatch({ type: 'ADD_TODO', payload: inputValue });
      setInputValue('');
    }
  };
  
  return (
    <div>
      <h2>í•  ì¼ ëª©ë¡</h2>
      
      <form onSubmit={handleSubmit}>
        <input
          value={inputValue}
          onChange={(e) => setInputValue(e.target.value)}
          placeholder="ìƒˆë¡œìš´ í•  ì¼ ì…ë ¥"
        />
        <button type="submit">ì¶”ê°€</button>
      </form>
      
      <ul>
        {state.todos.map(todo => (
          <li key={todo.id}>
            <span
              style={{
                textDecoration: todo.completed ? 'line-through' : 'none'
              }}
              onClick={() => dispatch({ type: 'TOGGLE_TODO', payload: todo.id })}
            >
              {todo.text}
            </span>
            <button 
              onClick={() => dispatch({ type: 'DELETE_TODO', payload: todo.id })}
            >
              ì‚­ì œ
            </button>
          </li>
        ))}
      </ul>
    </div>
  );
}
```

---

## 4. ì¢…í•© ì‹¤ìŠµ: ì‡¼í•‘ì¹´íŠ¸ ë§Œë“¤ê¸°

ì„¸ ê°€ì§€ í›…ì„ ëª¨ë‘ í™œìš©í•œ ì‡¼í•‘ì¹´íŠ¸ ì˜ˆì œì…ë‹ˆë‹¤:

```javascript
import { createContext, useContext, useReducer, useRef } from 'react';

// Context ìƒì„±
const CartContext = createContext();

// ì¹´íŠ¸ ë¦¬ë“€ì„œ
const cartReducer = (state, action) => {
  switch (action.type) {
    case 'ADD_ITEM':
      const existingItem = state.items.find(item => item.id === action.payload.id);
      if (existingItem) {
        return {
          ...state,
          items: state.items.map(item =>
            item.id === action.payload.id
              ? { ...item, quantity: item.quantity + 1 }
              : item
          )
        };
      }
      return {
        ...state,
        items: [...state.items, { ...action.payload, quantity: 1 }]
      };
    
    case 'REMOVE_ITEM':
      return {
        ...state,
        items: state.items.filter(item => item.id !== action.payload)
      };
    
    case 'CLEAR_CART':
      return { ...state, items: [] };
    
    default:
      return state;
  }
};

// ì¹´íŠ¸ Provider
function CartProvider({ children }) {
  const [state, dispatch] = useReducer(cartReducer, { items: [] });
  
  return (
    <CartContext.Provider value={{ state, dispatch }}>
      {children}
    </CartContext.Provider>
  );
}

// ìƒí’ˆ ëª©ë¡ ì»´í¬ë„ŒíŠ¸
function ProductList() {
  const { dispatch } = useContext(CartContext);
  const products = [
    { id: 1, name: 'ë…¸íŠ¸ë¶', price: 1000000 },
    { id: 2, name: 'ë§ˆìš°ìŠ¤', price: 30000 },
    { id: 3, name: 'í‚¤ë³´ë“œ', price: 80000 }
  ];
  
  return (
    <div>
      <h2>ìƒí’ˆ ëª©ë¡</h2>
      {products.map(product => (
        <div key={product.id}>
          <span>{product.name} - {product.price.toLocaleString()}ì›</span>
          <button onClick={() => dispatch({ type: 'ADD_ITEM', payload: product })}>
            ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€
          </button>
        </div>
      ))}
    </div>
  );
}

// ì¥ë°”êµ¬ë‹ˆ ì»´í¬ë„ŒíŠ¸
function Cart() {
  const { state, dispatch } = useContext(CartContext);
  const cartRef = useRef(null);
  
  const scrollToCart = () => {
    cartRef.current.scrollIntoView({ behavior: 'smooth' });
  };
  
  const totalPrice = state.items.reduce(
    (total, item) => total + item.price * item.quantity,
    0
  );
  
  return (
    <div ref={cartRef}>
      <h2>ì¥ë°”êµ¬ë‹ˆ</h2>
      {state.items.length === 0 ? (
        <p>ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.</p>
      ) : (
        <>
          {state.items.map(item => (
            <div key={item.id}>
              <span>{item.name} x {item.quantity} = {(item.price * item.quantity).toLocaleString()}ì›</span>
              <button onClick={() => dispatch({ type: 'REMOVE_ITEM', payload: item.id })}>
                ì œê±°
              </button>
            </div>
          ))}
          <h3>ì´ì•¡: {totalPrice.toLocaleString()}ì›</h3>
          <button onClick={() => dispatch({ type: 'CLEAR_CART' })}>
            ì¥ë°”êµ¬ë‹ˆ ë¹„ìš°ê¸°
          </button>
        </>
      )}
      <button onClick={scrollToCart}>ì¥ë°”êµ¬ë‹ˆë¡œ ìŠ¤í¬ë¡¤</button>
    </div>
  );
}

// ë©”ì¸ ì•±
function ShoppingApp() {
  return (
    <CartProvider>
      <div>
        <ProductList />
        <Cart />
      </div>
    </CartProvider>
  );
}
```

---

## 5. ì •ë¦¬ ë° ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

### ê° í›…ì˜ í•µì‹¬ í¬ì¸íŠ¸

**useRef:**
- DOM ì¡°ì‘ì´ í•„ìš”í•  ë•Œ
- ë¦¬ë Œë”ë§ì„ í”¼í•˜ê³  ì‹¶ì€ ê°’ ì €ì¥
- íƒ€ì´ë¨¸, í¬ì»¤ìŠ¤ ë“±ì— ìœ ìš©

**useContext:**
- ì „ì—­ ìƒíƒœ ê´€ë¦¬
- Props drilling ë°©ì§€
- í…Œë§ˆ, ì¸ì¦ ì •ë³´ ë“±ì— ì í•©

**useReducer:**
- ë³µì¡í•œ ìƒíƒœ ë¡œì§
- ì—¬ëŸ¬ ìƒíƒœê°€ ì—°ê´€ë  ë•Œ
- ìƒíƒœ ì—…ë°ì´íŠ¸ ë¡œì§ì„ ë¶„ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ

### ì£¼ì˜ì‚¬í•­

1. **useRef ë‚¨ìš© ê¸ˆì§€**: ëŒ€ë¶€ë¶„ì˜ ê²½ìš° ì„ ì–¸ì  ë°©ì‹ì´ ë” ì¢‹ìŠµë‹ˆë‹¤
2. **Context ê³¼ë„í•œ ì‚¬ìš© ì£¼ì˜**: ì„±ëŠ¥ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤
3. **useReducerì˜ ë³µì¡ì„±**: ê°„ë‹¨í•œ ìƒíƒœëŠ” useStateê°€ ë” ì í•©í•©ë‹ˆë‹¤

---

## 6. ê³¼ì œ

ë‹¤ìŒ ê¸°ëŠ¥ì„ í¬í•¨í•œ ê°„ë‹¨í•œ ë©”ëª¨ ì•±ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”:

1. **useRef**: ìƒˆ ë©”ëª¨ ì…ë ¥ ì‹œ ìë™ìœ¼ë¡œ í¬ì»¤ìŠ¤
2. **useContext**: ë‹¤í¬/ë¼ì´íŠ¸ í…Œë§ˆ ì „í™˜
3. **useReducer**: ë©”ëª¨ ì¶”ê°€, ì‚­ì œ, ìˆ˜ì • ê¸°ëŠ¥

### ê¸°ë³¸ êµ¬ì¡° íŒíŠ¸

```javascript
// ë©”ëª¨ ë¦¬ë“€ì„œ
const memoReducer = (state, action) => {
  switch (action.type) {
    case 'ADD_MEMO':
    case 'UPDATE_MEMO':
    case 'DELETE_MEMO':
    // êµ¬í˜„í•´ë³´ì„¸ìš”!
  }
};

// í…Œë§ˆ ì»¨í…ìŠ¤íŠ¸
const ThemeContext = createContext();

// ë©”ëª¨ ì•± ì»´í¬ë„ŒíŠ¸
function MemoApp() {
  const inputRef = useRef(null);
  // useReducerì™€ useContext í™œìš©
}
```

---

## 7. ì—°ìŠµë¬¸ì œ

### useRef ì—°ìŠµë¬¸ì œ (5ë¬¸ì œ)

**ë¬¸ì œ 1: ê¸°ë³¸ DOM ì ‘ê·¼**
í…ìŠ¤íŠ¸ ì…ë ¥ì°½ê³¼ ë²„íŠ¼ì´ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“œì„¸ìš”. ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ì…ë ¥ì°½ì— ìë™ìœ¼ë¡œ í¬ì»¤ìŠ¤ê°€ ê°€ë„ë¡ êµ¬í˜„í•˜ì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- `useRef`ë¥¼ ì‚¬ìš©í•˜ì—¬ input ìš”ì†Œì— ì ‘ê·¼
- ë²„íŠ¼ í´ë¦­ ì‹œ `focus()` ë©”ì„œë“œ ì‹¤í–‰
- ì»´í¬ë„ŒíŠ¸ ì´ë¦„: `FocusInput`

**ë¬¸ì œ 2: ìŠ¤í¬ë¡¤ ì´ë™**
í—¤ë”, ë³¸ë¬¸, í‘¸í„° ì„¹ì…˜ì´ ìˆëŠ” í˜ì´ì§€ë¥¼ ë§Œë“¤ê³ , ê° ì„¹ì…˜ìœ¼ë¡œ ì´ë™í•˜ëŠ” ë„¤ë¹„ê²Œì´ì…˜ ë²„íŠ¼ì„ êµ¬í˜„í•˜ì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- ê° ì„¹ì…˜ë§ˆë‹¤ `useRef` ì‚¬ìš©
- ë²„íŠ¼ í´ë¦­ ì‹œ í•´ë‹¹ ì„¹ì…˜ìœ¼ë¡œ ë¶€ë“œëŸ½ê²Œ ìŠ¤í¬ë¡¤ (`scrollIntoView({ behavior: 'smooth' })`)
- í—¤ë”, ë³¸ë¬¸, í‘¸í„° ë²„íŠ¼ 3ê°œ í•„ìš”

**ë¬¸ì œ 3: ì´ì „ ê°’ ì €ì¥**
ìˆ«ìë¥¼ ì…ë ¥ë°›ì•„ í˜„ì¬ ê°’ê³¼ ì´ì „ ê°’ì„ ë™ì‹œì— ë³´ì—¬ì£¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“œì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- `useState`ë¡œ í˜„ì¬ ê°’ ê´€ë¦¬
- `useRef`ë¡œ ì´ì „ ê°’ ì €ì¥ (ë¦¬ë Œë”ë§ ë°©ì§€)
- ì…ë ¥ì°½ì— ìˆ«ì ì…ë ¥ ì‹œ "í˜„ì¬: X, ì´ì „: Y" í˜•íƒœë¡œ í‘œì‹œ

**ë¬¸ì œ 4: ë Œë”ë§ íšŸìˆ˜ ì¹´ìš´í„°**
ì»´í¬ë„ŒíŠ¸ê°€ ëª‡ ë²ˆ ë Œë”ë§ë˜ì—ˆëŠ”ì§€ ì¹´ìš´íŠ¸í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- `useRef`ë¡œ ë Œë”ë§ íšŸìˆ˜ ì €ì¥
- ë²„íŠ¼ í´ë¦­ ì‹œ state ë³€ê²½í•˜ì—¬ ê°•ì œ ë¦¬ë Œë”ë§
- í™”ë©´ì— "ë Œë”ë§ íšŸìˆ˜: Xë²ˆ" í‘œì‹œ

**ë¬¸ì œ 5: íŒŒì¼ ì—…ë¡œë“œ**
íŒŒì¼ ì„ íƒ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ìˆ¨ê²¨ì§„ íŒŒì¼ inputì´ í™œì„±í™”ë˜ëŠ” ì»¤ìŠ¤í…€ íŒŒì¼ ì—…ë¡œë“œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“œì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- `useRef`ë¡œ hidden input ìš”ì†Œ ì ‘ê·¼
- ì»¤ìŠ¤í…€ ë²„íŠ¼ í´ë¦­ ì‹œ `click()` ë©”ì„œë“œ ì‹¤í–‰
- íŒŒì¼ ì„ íƒ ì‹œ íŒŒì¼ëª… í‘œì‹œ

### useContext ì—°ìŠµë¬¸ì œ (5ë¬¸ì œ)

**ë¬¸ì œ 1: ì–¸ì–´ ë³€ê²½ ì‹œìŠ¤í…œ**
í•œêµ­ì–´/ì˜ì–´ ì–¸ì–´ ë³€ê²½ ì‹œìŠ¤í…œì„ ë§Œë“œì„¸ìš”. ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ í˜„ì¬ ì–¸ì–´ì— ë”°ë¼ ë‹¤ë¥¸ í…ìŠ¤íŠ¸ë¥¼ í‘œì‹œí•´ì•¼ í•©ë‹ˆë‹¤.

**ìš”êµ¬ì‚¬í•­:**
- `LanguageContext` ìƒì„±
- `LanguageProvider`ì—ì„œ í˜„ì¬ ì–¸ì–´ì™€ ë³€ê²½ í•¨ìˆ˜ ì œê³µ
- `Header`, `Content`, `Footer` ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°ê° ë‹¤ë¥¸ í…ìŠ¤íŠ¸ í‘œì‹œ
- ì–¸ì–´ ë³€ê²½ ë²„íŠ¼ êµ¬í˜„

**ë¬¸ì œ 2: ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ**
ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ì´ ìˆëŠ” ê°„ë‹¨í•œ ì¸ì¦ ì‹œìŠ¤í…œì„ ë§Œë“œì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- `AuthContext` ìƒì„±
- ë¡œê·¸ì¸ ìƒíƒœ (`isLoggedIn`), ì‚¬ìš©ì ì •ë³´ (`user`), ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ í•¨ìˆ˜ ì œê³µ
- `LoginForm` ì»´í¬ë„ŒíŠ¸: ë¡œê·¸ì¸ ì „ì—ë§Œ í‘œì‹œ
- `UserProfile` ì»´í¬ë„ŒíŠ¸: ë¡œê·¸ì¸ í›„ì—ë§Œ í‘œì‹œ
- `Navigation` ì»´í¬ë„ŒíŠ¸: ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¼ ë‹¤ë¥¸ ë©”ë‰´ í‘œì‹œ

**ë¬¸ì œ 3: ì•Œë¦¼ ì‹œìŠ¤í…œ**
ì „ì—­ ì•Œë¦¼ ë©”ì‹œì§€ë¥¼ ê´€ë¦¬í•˜ëŠ” ì‹œìŠ¤í…œì„ ë§Œë“œì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- `NotificationContext` ìƒì„±
- ì•Œë¦¼ ëª©ë¡ (`notifications`) ë° ì¶”ê°€/ì œê±° í•¨ìˆ˜ ì œê³µ
- ì•Œë¦¼ íƒ€ì…: `success`, `error`, `warning`, `info`
- 3ì´ˆ í›„ ìë™ìœ¼ë¡œ ì•Œë¦¼ ì œê±°
- ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì•Œë¦¼ ì¶”ê°€ ê°€ëŠ¥

**ë¬¸ì œ 4: í°íŠ¸ í¬ê¸° ì„¤ì •**
ì‚¬ìš©ìê°€ ì›¹ì‚¬ì´íŠ¸ì˜ í°íŠ¸ í¬ê¸°ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆëŠ” ì ‘ê·¼ì„± ê¸°ëŠ¥ì„ ë§Œë“œì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- `FontSizeContext` ìƒì„±
- í°íŠ¸ í¬ê¸° ì˜µì…˜: `small`, `medium`, `large`
- ëª¨ë“  í…ìŠ¤íŠ¸ ìš”ì†Œì— í°íŠ¸ í¬ê¸° ì ìš©
- í°íŠ¸ í¬ê¸° ë³€ê²½ ë²„íŠ¼ 3ê°œ êµ¬í˜„

**ë¬¸ì œ 5: ì¥ë°”êµ¬ë‹ˆ ê°œìˆ˜ í‘œì‹œ**
ê°„ë‹¨í•œ ìƒí’ˆ ëª©ë¡ê³¼ ì¥ë°”êµ¬ë‹ˆ ì•„ì´ì½˜ì— ê°œìˆ˜ë¥¼ í‘œì‹œí•˜ëŠ” ì‹œìŠ¤í…œì„ ë§Œë“œì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- `CartContext` ìƒì„±
- ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œ ëª©ë¡ê³¼ ì¶”ê°€/ì œê±° í•¨ìˆ˜ ì œê³µ
- `ProductList`: ìƒí’ˆ ëª©ë¡ê³¼ "ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€" ë²„íŠ¼
- `CartIcon`: ì¥ë°”êµ¬ë‹ˆ ì•„ì´ì½˜ê³¼ ì•„ì´í…œ ê°œìˆ˜ í‘œì‹œ
- ê°™ì€ ìƒí’ˆ ì¶”ê°€ ì‹œ ìˆ˜ëŸ‰ ì¦ê°€

### useReducer ì—°ìŠµë¬¸ì œ (5ë¬¸ì œ)

**ë¬¸ì œ 1: ê³„ì‚°ê¸°**
ê¸°ë³¸ì ì¸ ì‚¬ì¹™ì—°ì‚° ê³„ì‚°ê¸°ë¥¼ ë§Œë“œì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- ì´ˆê¸° ìƒíƒœ: `{ display: '0', previousValue: null, operation: null, waitingForOperand: false }`
- ì•¡ì…˜ íƒ€ì…: `INPUT_DIGIT`, `INPUT_OPERATOR`, `CALCULATE`, `CLEAR`
- ì—°ì‚°ì: `+`, `-`, `*`, `/`
- í™”ë©´ì— í˜„ì¬ ê°’ê³¼ ë²„íŠ¼ë“¤ í‘œì‹œ

**ë¬¸ì œ 2: ê²Œì‹œíŒ ê´€ë¦¬**
ê²Œì‹œê¸€ì„ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œí•  ìˆ˜ ìˆëŠ” ê°„ë‹¨í•œ ê²Œì‹œíŒì„ ë§Œë“œì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- ì´ˆê¸° ìƒíƒœ: `{ posts: [], nextId: 1, editingId: null }`
- ì•¡ì…˜ íƒ€ì…: `ADD_POST`, `UPDATE_POST`, `DELETE_POST`, `START_EDIT`, `CANCEL_EDIT`
- ê²Œì‹œê¸€ êµ¬ì¡°: `{ id, title, content, createdAt }`
- ìˆ˜ì • ëª¨ë“œì™€ ì½ê¸° ëª¨ë“œ ì „í™˜

**ë¬¸ì œ 3: í€´ì¦ˆ ì•±**
ê°ê´€ì‹ í€´ì¦ˆë¥¼ í’€ ìˆ˜ ìˆëŠ” ì•±ì„ ë§Œë“œì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- ì´ˆê¸° ìƒíƒœ: `{ currentQuestion: 0, score: 0, answers: [], isFinished: false }`
- ì•¡ì…˜ íƒ€ì…: `ANSWER_QUESTION`, `NEXT_QUESTION`, `FINISH_QUIZ`, `RESET_QUIZ`
- ë¬¸ì œ ë°°ì—´ì„ propsë¡œ ë°›ìŒ
- ì ìˆ˜ ê³„ì‚° ë° ê²°ê³¼ í‘œì‹œ

**ë¬¸ì œ 4: í¼ ìœ íš¨ì„± ê²€ì‚¬**
íšŒì›ê°€ì… í¼ì˜ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ `useReducer`ë¡œ ê´€ë¦¬í•˜ì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- ì´ˆê¸° ìƒíƒœ: `{ values: {}, errors: {}, touched: {} }`
- ì•¡ì…˜ íƒ€ì…: `SET_FIELD`, `SET_ERROR`, `SET_TOUCHED`, `RESET_FORM`
- í•„ë“œ: `username`, `email`, `password`, `confirmPassword`
- ìœ íš¨ì„± ê²€ì‚¬ ê·œì¹™ ì ìš©

**ë¬¸ì œ 5: ìŒì•… í”Œë ˆì´ì–´**
ê°„ë‹¨í•œ ìŒì•… í”Œë ˆì´ì–´ì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ì„¸ìš”.

**ìš”êµ¬ì‚¬í•­:**
- ì´ˆê¸° ìƒíƒœ: `{ playlist: [], currentTrack: 0, isPlaying: false, volume: 50, shuffle: false, repeat: 'none' }`
- ì•¡ì…˜ íƒ€ì…: `PLAY`, `PAUSE`, `NEXT_TRACK`, `PREVIOUS_TRACK`, `SET_VOLUME`, `TOGGLE_SHUFFLE`, `SET_REPEAT`
- repeat ì˜µì…˜: `'none'`, `'one'`, `'all'`
- í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ëì—ì„œ ë‹¤ìŒ ê³¡ ì²˜ë¦¬

---

## 8. ì •ë‹µ

### useRef ì •ë‹µ

**ì •ë‹µ 1: ê¸°ë³¸ DOM ì ‘ê·¼**
```javascript
import { useRef } from 'react';

function FocusInput() {
  const inputRef = useRef(null);
  
  const handleFocus = () => {
    inputRef.current.focus();
  };
  
  return (
    <div>
      <input ref={inputRef} type="text" placeholder="ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”" />
      <button onClick={handleFocus}>í¬ì»¤ìŠ¤ ì£¼ê¸°</button>
    </div>
  );
}
```

**ì •ë‹µ 2: ìŠ¤í¬ë¡¤ ì´ë™**
```javascript
import { useRef } from 'react';

function ScrollPage() {
  const headerRef = useRef(null);
  const contentRef = useRef(null);
  const footerRef = useRef(null);
  
  const scrollToSection = (ref) => {
    ref.current.scrollIntoView({ behavior: 'smooth' });
  };
  
  return (
    <div>
      <nav style={{ position: 'fixed', top: 0, background: '#fff', padding: '10px' }}>
        <button onClick={() => scrollToSection(headerRef)}>í—¤ë”ë¡œ</button>
        <button onClick={() => scrollToSection(contentRef)}>ë³¸ë¬¸ìœ¼ë¡œ</button>
        <button onClick={() => scrollToSection(footerRef)}>í‘¸í„°ë¡œ</button>
      </nav>
      
      <div ref={headerRef} style={{ height: '100vh', background: '#f0f0f0', paddingTop: '50px' }}>
        <h1>í—¤ë” ì„¹ì…˜</h1>
      </div>
      
      <div ref={contentRef} style={{ height: '100vh', background: '#e0e0e0' }}>
        <h2>ë³¸ë¬¸ ì„¹ì…˜</h2>
      </div>
      
      <div ref={footerRef} style={{ height: '100vh', background: '#d0d0d0' }}>
        <h3>í‘¸í„° ì„¹ì…˜</h3>
      </div>
    </div>
  );
}
```

**ì •ë‹µ 3: ì´ì „ ê°’ ì €ì¥**
```javascript
import { useState, useRef, useEffect } from 'react';

function PreviousValue() {
  const [currentValue, setCurrentValue] = useState(0);
  const previousValueRef = useRef(0);
  
  useEffect(() => {
    previousValueRef.current = currentValue;
  });
  
  return (
    <div>
      <input
        type="number"
        value={currentValue}
        onChange={(e) => setCurrentValue(Number(e.target.value))}
      />
      <p>í˜„ì¬: {currentValue}, ì´ì „: {previousValueRef.current}</p>
    </div>
  );
}
```

**ì •ë‹µ 4: ë Œë”ë§ íšŸìˆ˜ ì¹´ìš´í„°**
```javascript
import { useState, useRef, useEffect } from 'react';

function RenderCounter() {
  const [count, setCount] = useState(0);
  const renderCountRef = useRef(0);
  
  useEffect(() => {
    renderCountRef.current += 1;
  });
  
  return (
    <div>
      <p>ë Œë”ë§ íšŸìˆ˜: {renderCountRef.current}ë²ˆ</p>
      <button onClick={() => setCount(count + 1)}>ë¦¬ë Œë”ë§ ({count})</button>
    </div>
  );
}
```

**ì •ë‹µ 5: íŒŒì¼ ì—…ë¡œë“œ**
```javascript
import { useRef, useState } from 'react';

function FileUpload() {
  const fileInputRef = useRef(null);
  const [fileName, setFileName] = useState('');
  
  const handleButtonClick = () => {
    fileInputRef.current.click();
  };
  
  const handleFileChange = (e) => {
    const file = e.target.files[0];
    setFileName(file ? file.name : '');
  };
  
  return (
    <div>
      <input
        ref={fileInputRef}
        type="file"
        style={{ display: 'none' }}
        onChange={handleFileChange}
      />
      <button onClick={handleButtonClick}>íŒŒì¼ ì„ íƒ</button>
      {fileName && <p>ì„ íƒëœ íŒŒì¼: {fileName}</p>}
    </div>
  );
}
```

### useContext ì •ë‹µ

**ì •ë‹µ 1: ì–¸ì–´ ë³€ê²½ ì‹œìŠ¤í…œ**
```javascript
import { createContext, useContext, useState } from 'react';

const LanguageContext = createContext();

const translations = {
  ko: {
    header: 'ì•ˆë…•í•˜ì„¸ìš”',
    content: 'ë‚´ìš©ì…ë‹ˆë‹¤',
    footer: 'í‘¸í„°ì…ë‹ˆë‹¤',
    switchLang: 'ì–¸ì–´ ë³€ê²½'
  },
  en: {
    header: 'Hello',
    content: 'This is content',
    footer: 'This is footer',
    switchLang: 'Switch Language'
  }
};

function LanguageProvider({ children }) {
  const [language, setLanguage] = useState('ko');
  
  const toggleLanguage = () => {
    setLanguage(prev => prev === 'ko' ? 'en' : 'ko');
  };
  
  return (
    <LanguageContext.Provider value={{ language, toggleLanguage, translations: translations[language] }}>
      {children}
    </LanguageContext.Provider>
  );
}

function Header() {
  const { translations, toggleLanguage } = useContext(LanguageContext);
  
  return (
    <header>
      <h1>{translations.header}</h1>
      <button onClick={toggleLanguage}>{translations.switchLang}</button>
    </header>
  );
}

function Content() {
  const { translations } = useContext(LanguageContext);
  
  return (
    <main>
      <p>{translations.content}</p>
    </main>
  );
}

function Footer() {
  const { translations } = useContext(LanguageContext);
  
  return (
    <footer>
      <p>{translations.footer}</p>
    </footer>
  );
}

function App() {
  return (
    <LanguageProvider>
      <Header />
      <Content />
      <Footer />
    </LanguageProvider>
  );
}
```

**ì •ë‹µ 2: ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œ**
```javascript
import { createContext, useContext, useState } from 'react';

const AuthContext = createContext();

function AuthProvider({ children }) {
  const [isLoggedIn, setIsLoggedIn] = useState(false);
  const [user, setUser] = useState(null);
  
  const login = (username) => {
    setUser({ username });
    setIsLoggedIn(true);
  };
  
  const logout = () => {
    setUser(null);
    setIsLoggedIn(false);
  };
  
  return (
    <AuthContext.Provider value={{ isLoggedIn, user, login, logout }}>
      {children}
    </AuthContext.Provider>
  );
}

function LoginForm() {
  const { login } = useContext(AuthContext);
  const [username, setUsername] = useState('');
  
  const handleSubmit = (e) => {
    e.preventDefault();
    if (username.trim()) {
      login(username);
    }
  };
  
  return (
    <form onSubmit={handleSubmit}>
      <input
        value={username}
        onChange={(e) => setUsername(e.target.value)}
        placeholder="ì‚¬ìš©ìëª…"
      />
      <button type="submit">ë¡œê·¸ì¸</button>
    </form>
  );
}

function UserProfile() {
  const { user, logout } = useContext(AuthContext);
  
  return (
    <div>
      <p>ì•ˆë…•í•˜ì„¸ìš”, {user.username}ë‹˜!</p>
      <button onClick={logout}>ë¡œê·¸ì•„ì›ƒ</button>
    </div>
  );
}

function Navigation() {
  const { isLoggedIn } = useContext(AuthContext);
  
  return (
    <nav>
      <a href="/">í™ˆ</a>
      {isLoggedIn ? (
        <>
          <a href="/profile">í”„ë¡œí•„</a>
          <a href="/dashboard">ëŒ€ì‹œë³´ë“œ</a>
        </>
      ) : (
        <a href="/login">ë¡œê·¸ì¸</a>
      )}
    </nav>
  );
}

function App() {
  const { isLoggedIn } = useContext(AuthContext);
  
  return (
    <AuthProvider>
      <Navigation />
      {isLoggedIn ? <UserProfile /> : <LoginForm />}
    </AuthProvider>
  );
}
```

**ì •ë‹µ 3: ì•Œë¦¼ ì‹œìŠ¤í…œ**
```javascript
import { createContext, useContext, useState, useEffect } from 'react';

const NotificationContext = createContext();

function NotificationProvider({ children }) {
  const [notifications, setNotifications] = useState([]);
  
  const addNotification = (message, type = 'info') => {
    const id = Date.now();
    setNotifications(prev => [...prev, { id, message, type }]);
    
    setTimeout(() => {
      removeNotification(id);
    }, 3000);
  };
  
  const removeNotification = (id) => {
    setNotifications(prev => prev.filter(notification => notification.id !== id));
  };
  
  return (
    <NotificationContext.Provider value={{ notifications, addNotification, removeNotification }}>
      {children}
    </NotificationContext.Provider>
  );
}

function NotificationList() {
  const { notifications, removeNotification } = useContext(NotificationContext);
  
  return (
    <div style={{ position: 'fixed', top: 20, right: 20, zIndex: 1000 }}>
      {notifications.map(notification => (
        <div
          key={notification.id}
          style={{
            padding: '10px',
            margin: '5px 0',
            borderRadius: '5px',
            backgroundColor: {
              success: '#d4edda',
              error: '#f8d7da',
              warning: '#fff3cd',
              info: '#d1ecf1'
            }[notification.type]
          }}
        >
          {notification.message}
          <button onClick={() => removeNotification(notification.id)}>Ã—</button>
        </div>
      ))}
    </div>
  );
}

function TestButtons() {
  const { addNotification } = useContext(NotificationContext);
  
  return (
    <div>
      <button onClick={() => addNotification('ì„±ê³µí–ˆìŠµë‹ˆë‹¤!', 'success')}>
        ì„±ê³µ ì•Œë¦¼
      </button>
      <button onClick={() => addNotification('ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤!', 'error')}>
        ì˜¤ë¥˜ ì•Œë¦¼
      </button>
      <button onClick={() => addNotification('ì£¼ì˜í•˜ì„¸ìš”!', 'warning')}>
        ê²½ê³  ì•Œë¦¼
      </button>
      <button onClick={() => addNotification('ì •ë³´ì…ë‹ˆë‹¤.', 'info')}>
        ì •ë³´ ì•Œë¦¼
      </button>
    </div>
  );
}

function App() {
  return (
    <NotificationProvider>
      <TestButtons />
      <NotificationList />
    </NotificationProvider>
  );
}
```

**ì •ë‹µ 4: í°íŠ¸ í¬ê¸° ì„¤ì •**
```javascript
import { createContext, useContext, useState } from 'react';

const FontSizeContext = createContext();

function FontSizeProvider({ children }) {
  const [fontSize, setFontSize] = useState('medium');
  
  const fontSizes = {
    small: '14px',
    medium: '16px',
    large: '20px'
  };
  
  return (
    <FontSizeContext.Provider value={{ fontSize, setFontSize, fontSizes }}>
      <div style={{ fontSize: fontSizes[fontSize] }}>
        {children}
      </div>
    </FontSizeContext.Provider>
  );
}

function FontSizeControls() {
  const { fontSize, setFontSize } = useContext(FontSizeContext);
  
  return (
    <div>
      <h3>í°íŠ¸ í¬ê¸° ì„¤ì •</h3>
      <button 
        onClick={() => setFontSize('small')}
        style={{ backgroundColor: fontSize === 'small' ? '#ccc' : 'white' }}
      >
        ì‘ê²Œ
      </button>
      <button 
        onClick={() => setFontSize('medium')}
        style={{ backgroundColor: fontSize === 'medium' ? '#ccc' : 'white' }}
      >
        ë³´í†µ
      </button>
      <button 
        onClick={() => setFontSize('large')}
        style={{ backgroundColor: fontSize === 'large' ? '#ccc' : 'white' }}
      >
        í¬ê²Œ
      </button>
    </div>
  );
}

function SampleContent() {
  return (
    <div>
      <h1>ì œëª©ì…ë‹ˆë‹¤</h1>
      <p>ì´ê²ƒì€ ìƒ˜í”Œ í…ìŠ¤íŠ¸ì…ë‹ˆë‹¤. í°íŠ¸ í¬ê¸°ê°€ ì ìš©ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
      <p>ëª¨ë“  í…ìŠ¤íŠ¸ ìš”ì†Œì— í°íŠ¸ í¬ê¸° ì„¤ì •ì´ ì ìš©ë©ë‹ˆë‹¤.</p>
    </div>
  );
}

function App() {
  return (
    <FontSizeProvider>
      <FontSizeControls />
      <SampleContent />
    </FontSizeProvider>
  );
}
```

**ì •ë‹µ 5: ì¥ë°”êµ¬ë‹ˆ ê°œìˆ˜ í‘œì‹œ**
```javascript
import { createContext, useContext, useState } from 'react';

const CartContext = createContext();

function CartProvider({ children }) {
  const [cartItems, setCartItems] = useState([]);
  
  const addToCart = (product) => {
    setCartItems(prev => {
      const existingItem = prev.find(item => item.id === product.id);
      if (existingItem) {
        return prev.map(item =>
          item.id === product.id
            ? { ...item, quantity: item.quantity + 1 }
            : item
        );
      }
      return [...prev, { ...product, quantity: 1 }];
    });
  };
  
  const removeFromCart = (productId) => {
    setCartItems(prev => prev.filter(item => item.id !== productId));
  };
  
  const getTotalItems = () => {
    return cartItems.reduce((total, item) => total + item.quantity, 0);
  };
  
  return (
    <CartContext.Provider value={{ cartItems, addToCart, removeFromCart, getTotalItems }}>
      {children}
    </CartContext.Provider>
  );
}

function ProductList() {
  const { addToCart } = useContext(CartContext);
  
  const products = [
    { id: 1, name: 'ì‚¬ê³¼', price: 1000 },
    { id: 2, name: 'ë°”ë‚˜ë‚˜', price: 2000 },
    { id: 3, name: 'ì˜¤ë Œì§€', price: 1500 }
  ];
  
  return (
    <div>
      <h2>ìƒí’ˆ ëª©ë¡</h2>
      {products.map(product => (
        <div key={product.id} style={{ margin: '10px 0' }}>
          <span>{product.name} - {product.price}ì›</span>
          <button onClick={() => addToCart(product)}>ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€</button>
        </div>
      ))}
    </div>
  );
}

function CartIcon() {
  const { getTotalItems } = useContext(CartContext);
  
  return (
    <div style={{ position: 'fixed', top: 20, right: 20, fontSize: '24px' }}>
      ğŸ›’ <span style={{ backgroundColor: 'red', color: 'white', borderRadius: '50%', padding: '2px 6px' }}>
        {getTotalItems()}
      </span>
    </div>
  );
}

function App() {
  return (
    <CartProvider>
      <CartIcon />
      <ProductList />
    </CartProvider>
  );
}
```

### useReducer ì •ë‹µ

**ì •ë‹µ 1: ê³„ì‚°ê¸°**
```javascript
import { useReducer } from 'react';

const initialState = {
  display: '0',
  previousValue: null,
  operation: null,
  waitingForOperand: false
};

function calculatorReducer(state, action) {
  switch (action.type) {
    case 'INPUT_DIGIT':
      if (state.waitingForOperand) {
        return {
          ...state,
          display: String(action.digit),
          waitingForOperand: false
        };
      }
      return {
        ...state,
        display: state.display === '0' ? String(action.digit) : state.display + action.digit
      };
    
    case 'INPUT_OPERATOR':
      const inputValue = parseFloat(state.display);
      
      if (state.previousValue === null) {
        return {
          ...state,
          previousValue: inputValue,
          operation: action.operator,
          waitingForOperand: true
        };
      }
      
      if (state.operation) {
        const currentValue = state.previousValue || 0;
        const newValue = calculate(currentValue, inputValue, state.operation);
        
        return {
          ...state,
          display: String(newValue),
          previousValue: newValue,
          operation: action.operator,
          waitingForOperand: true
        };
      }
      
      return state;
    
    case 'CALCULATE':
      const prev = state.previousValue;
      const current = parseFloat(state.display);
      
      if (prev !== null && state.operation) {
        const result = calculate(prev, current, state.operation);
        return {
          ...state,
          display: String(result),
          previousValue: null,
          operation: null,
          waitingForOperand: true
        };
      }
      
      return state;
    
    case 'CLEAR':
      return initialState;
    
    default:
      return state;
  }
}

function calculate(firstValue, secondValue, operation) {
  switch (operation) {
    case '+':
      return firstValue + secondValue;
    case '-':
      return firstValue - secondValue;
    case '*':
      return firstValue * secondValue;
    case '/':
      return firstValue / secondValue;
    default:
      return secondValue;
  }
}

function Calculator() {
  const [state, dispatch] = useReducer(calculatorReducer, initialState);
  
  const inputDigit = (digit) => {
    dispatch({ type: 'INPUT_DIGIT', digit });
  };
  
  const inputOperator = (operator) => {
    dispatch({ type: 'INPUT_OPERATOR', operator });
  };
  
  const calculate = () => {
    dispatch({ type: 'CALCULATE' });
  };
  
  const clear = () => {
    dispatch({ type: 'CLEAR' });
  };
  
  return (
    <div>
      <div style={{ fontSize: '24px', padding: '10px', border: '1px solid #ccc' }}>
        {state.display}
      </div>
      <div style={{ display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: '5px', marginTop: '10px' }}>
        <button onClick={clear}>C</button>
        <button onClick={() => inputOperator('/')}>/</button>
        <button onClick={() => inputOperator('*')}>*</button>
        <button onClick={() => inputOperator('-')}>-</button>
        
        <button onClick={() => inputDigit(7)}>7</button>
        <button onClick={() => inputDigit(8)}>8</button>
        <button onClick={() => inputDigit(9)}>9</button>
        <button onClick={() => inputOperator('+')} rowSpan={2}>+</button>
        
        <button onClick={() => inputDigit(4)}>4</button>
        <button onClick={() => inputDigit(5)}>5</button>
        <button onClick={() => inputDigit(6)}>6</button>
        
        <button onClick={() => inputDigit(1)}>1</button>
        <button onClick={() => inputDigit(2)}>2</button>
        <button onClick={() => inputDigit(3)}>3</button>
        <button onClick={calculate} rowSpan={2}>=</button>
        
        <button onClick={() => inputDigit(0)} colSpan={2}>0</button>
        <button onClick={() => inputDigit('.')}>.</button>
      </div>
    </div>
  );
}
```

**ì •ë‹µ 2: ê²Œì‹œíŒ ê´€ë¦¬**
```javascript
import { useReducer, useState } from 'react';

const initialState = {
  posts: [],
  nextId: 1,
  editingId: null
};

function postsReducer(state, action) {
  switch (action.type) {
    case 'ADD_POST':
      return {
        ...state,
        posts: [
          ...state.posts,
          {
            id: state.nextId,
            title: action.payload.title,
            content: action.payload.content,
            createdAt: new Date().toLocaleString()
          }
        ],
        nextId: state.nextId + 1
      };
    
    case 'UPDATE_POST':
      return {
        ...state,
        posts: state.posts.map(post =>
          post.id === action.payload.id
            ? { ...post, title: action.payload.title, content: action.payload.content }
            : post
        ),
        editingId: null
      };
    
    case 'DELETE_POST':
      return {
        ...state,
        posts: state.posts.filter(post => post.id !== action.payload)
      };
    
    case 'START_EDIT':
      return {
        ...state,
        editingId: action.payload
      };
    
    case 'CANCEL_EDIT':
      return {
        ...state,
        editingId: null
      };
    
    default:
      return state;
  }
}

function Board() {
  const [state, dispatch] = useReducer(postsReducer, initialState);
  const [title, setTitle] = useState('');
  const [content, setContent] = useState('');
  
  const handleSubmit = (e) => {
    e.preventDefault();
    if (title.trim() && content.trim()) {
      if (state.editingId) {
        dispatch({
          type: 'UPDATE_POST',
          payload: { id: state.editingId, title, content }
        });
      } else {
        dispatch({
          type: 'ADD_POST',
          payload: { title, content }
        });
      }
      setTitle('');
      setContent('');
    }
  };
  
  const startEdit = (post) => {
    dispatch({ type: 'START_EDIT', payload: post.id });
    setTitle(post.title);
    setContent(post.content);
  };
  
  const cancelEdit = () => {
    dispatch({ type: 'CANCEL_EDIT' });
    setTitle('');
    setContent('');
  };
  
  return (
    <div>
      <h2>ê²Œì‹œíŒ</h2>
      
      <form onSubmit={handleSubmit}>
        <div>
          <input
            value={title}
            onChange={(e) => setTitle(e.target.value)}
            placeholder="ì œëª©"
            required
          />
        </div>
        <div>
          <textarea
            value={content}
            onChange={(e) => setContent(e.target.value)}
            placeholder="ë‚´ìš©"
            required
          />
        </div>
        <button type="submit">
          {state.editingId ? 'ìˆ˜ì •' : 'ì‘ì„±'}
        </button>
        {state.editingId && (
          <button type="button" onClick={cancelEdit}>ì·¨ì†Œ</button>
        )}
      </form>
      
      <div>
        {state.posts.map(post => (
          <div key={post.id} style={{ border: '1px solid #ccc', margin: '10px 0', padding: '10px' }}>
            <h3>{post.title}</h3>
            <p>{post.content}</p>
            <small>{post.createdAt}</small>
            <div>
              <button onClick={() => startEdit(post)}>ìˆ˜ì •</button>
              <button onClick={() => dispatch({ type: 'DELETE_POST', payload: post.id })}>
                ì‚­ì œ
              </button>
            </div>
          </div>
        ))}
      </div>
    </div>
  );
}
```

**ì •ë‹µ 3: í€´ì¦ˆ ì•±**
```javascript
import { useReducer } from 'react';

const questions = [
  {
    question: "Reactì—ì„œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” í›…ì€?",
    options: ["useState", "useEffect", "useContext", "useRef"],
    correct: 0
  },
  {
    question: "JavaScriptì—ì„œ ë°°ì—´ì˜ ë§ˆì§€ë§‰ ìš”ì†Œë¥¼ ì œê±°í•˜ëŠ” ë©”ì„œë“œëŠ”?",
    options: ["push()", "pop()", "shift()", "unshift()"],
    correct: 1
  },
  {
    question: "HTMLì—ì„œ ë§í¬ë¥¼ ë§Œë“œëŠ” íƒœê·¸ëŠ”?",
    options: ["<link>", "<a>", "<url>", "<href>"],
    correct: 1
  }
];

const initialState = {
  currentQuestion: 0,
  score: 0,
  answers: [],
  isFinished: false
};

function quizReducer(state, action) {
  switch (action.type) {
    case 'ANSWER_QUESTION':
      const newAnswers = [...state.answers, action.payload];
      const isCorrect = action.payload === questions[state.currentQuestion].correct;
      
      return {
        ...state,
        answers: newAnswers,
        score: isCorrect ? state.score + 1 : state.score
      };
    
    case 'NEXT_QUESTION':
      return {
        ...state,
        currentQuestion: state.currentQuestion + 1
      };
    
    case 'FINISH_QUIZ':
      return {
        ...state,
        isFinished: true
      };
    
    case 'RESET_QUIZ':
      return initialState;
    
    default:
      return state;
  }
}

function Quiz() {
  const [state, dispatch] = useReducer(quizReducer, initialState);
  
  const handleAnswer = (answerIndex) => {
    dispatch({ type: 'ANSWER_QUESTION', payload: answerIndex });
    
    if (state.currentQuestion < questions.length - 1) {
      setTimeout(() => {
        dispatch({ type: 'NEXT_QUESTION' });
      }, 1000);
    } else {
      setTimeout(() => {
        dispatch({ type: 'FINISH_QUIZ' });
      }, 1000);
    }
  };
  
  const resetQuiz = () => {
    dispatch({ type: 'RESET_QUIZ' });
  };
  
  if (state.isFinished) {
    return (
      <div>
        <h2>í€´ì¦ˆ ì™„ë£Œ!</h2>
        <p>ì ìˆ˜: {state.score}/{questions.length}</p>
        <p>ì •ë‹µë¥ : {Math.round((state.score / questions.length) * 100)}%</p>
        <button onClick={resetQuiz}>ë‹¤ì‹œ ì‹œì‘</button>
      </div>
    );
  }
  
  const currentQ = questions[state.currentQuestion];
  const hasAnswered = state.answers.length > state.currentQuestion;
  
  return (
    <div>
      <h2>í€´ì¦ˆ ({state.currentQuestion + 1}/{questions.length})</h2>
      <h3>{currentQ.question}</h3>
      
      <div>
        {currentQ.options.map((option, index) => (
          <button
            key={index}
            onClick={() => handleAnswer(index)}
            disabled={hasAnswered}
            style={{
              display: 'block',
              margin: '10px 0',
              padding: '10px',
              backgroundColor: hasAnswered
                ? index === currentQ.correct
                  ? '#d4edda'
                  : index === state.answers[state.currentQuestion]
                  ? '#f8d7da'
                  : '#f8f9fa'
                : '#f8f9fa'
            }}
          >
            {option}
          </button>
        ))}
      </div>
      
      {hasAnswered && (
        <p>
          {state.answers[state.currentQuestion] === currentQ.correct
            ? 'ì •ë‹µì…ë‹ˆë‹¤!'
            : `ì˜¤ë‹µì…ë‹ˆë‹¤. ì •ë‹µì€ "${currentQ.options[currentQ.correct]}"ì…ë‹ˆë‹¤.`}
        </p>
      )}
    </div>
  );
}
```

**ì •ë‹µ 4: í¼ ìœ íš¨ì„± ê²€ì‚¬**
```javascript
import { useReducer } from 'react';

const initialState = {
  values: {
    username: '',
    email: '',
    password: '',
    confirmPassword: ''
  },
  errors: {},
  touched: {}
};

function formReducer(state, action) {
  switch (action.type) {
    case 'SET_FIELD':
      return {
        ...state,
        values: {
          ...state.values,
          [action.field]: action.value
        }
      };
    
    case 'SET_ERROR':
      return {
        ...state,
        errors: {
          ...state.errors,
          [action.field]: action.error
        }
      };
    
    case 'SET_TOUCHED':
      return {
        ...state,
        touched: {
          ...state.touched,
          [action.field]: true
        }
      };
    
    case 'RESET_FORM':
      return initialState;
    
    default:
      return state;
  }
}

function validateField(field, value, allValues) {
  switch (field) {
    case 'username':
      if (!value) return 'ì‚¬ìš©ìëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.';
      if (value.length < 3) return 'ì‚¬ìš©ìëª…ì€ 3ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.';
      return '';
    
    case 'email':
      if (!value) return 'ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.';
      if (!/\S+@\S+\.\S+/.test(value)) return 'ì˜¬ë°”ë¥¸ ì´ë©”ì¼ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤.';
      return '';
    
    case 'password':
      if (!value) return 'ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.';
      if (value.length < 6) return 'ë¹„ë°€ë²ˆí˜¸ëŠ” 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.';
      return '';
    
    case 'confirmPassword':
      if (!value) return 'ë¹„ë°€ë²ˆí˜¸ í™•ì¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.';
      if (value !== allValues.password) return 'ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.';
      return '';
    
    default:
      return '';
  }
}

function SignupForm() {
  const [state, dispatch] = useReducer(formReducer, initialState);
  
  const handleChange = (field, value) => {
    dispatch({ type: 'SET_FIELD', field, value });
    
    // ìœ íš¨ì„± ê²€ì‚¬
    const error = validateField(field, value, { ...state.values, [field]: value });
    dispatch({ type: 'SET_ERROR', field, error });
  };
  
  const handleBlur = (field) => {
    dispatch({ type: 'SET_TOUCHED', field });
  };
  
  const handleSubmit = (e) => {
    e.preventDefault();
    
    // ëª¨ë“  í•„ë“œë¥¼ touchedë¡œ ì„¤ì •
    Object.keys(state.values).forEach(field => {
      dispatch({ type: 'SET_TOUCHED', field });
    });
    
    // ìœ íš¨ì„± ê²€ì‚¬
    const hasErrors = Object.keys(state.values).some(field => {
      const error = validateField(field, state.values[field], state.values);
      if (error) {
        dispatch({ type: 'SET_ERROR', field, error });
        return true;
      }
      return false;
    });
    
    if (!hasErrors) {
      alert('íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!');
      dispatch({ type: 'RESET_FORM' });
    }
  };
  
  return (
    <form onSubmit={handleSubmit}>
      <h2>íšŒì›ê°€ì…</h2>
      
      <div>
        <label>ì‚¬ìš©ìëª…:</label>
        <input
          type="text"
          value={state.values.username}
          onChange={(e) => handleChange('username', e.target.value)}
          onBlur={() => handleBlur('username')}
        />
        {state.touched.username && state.errors.username && (
          <span style={{ color: 'red' }}>{state.errors.username}</span>
        )}
      </div>
      
      <div>
        <label>ì´ë©”ì¼:</label>
        <input
          type="email"
          value={state.values.email}
          onChange={(e) => handleChange('email', e.target.value)}
          onBlur={() => handleBlur('email')}
        />
        {state.touched.email && state.errors.email && (
          <span style={{ color: 'red' }}>{state.errors.email}</span>
        )}
      </div>
      
      <div>
        <label>ë¹„ë°€ë²ˆí˜¸:</label>
        <input
          type="password"
          value={state.values.password}
          onChange={(e) => handleChange('password', e.target.value)}
          onBlur={() => handleBlur('password')}
        />
        {state.touched.password && state.errors.password && (
          <span style={{ color: 'red' }}>{state.errors.password}</span>
        )}
      </div>
      
      <div>
        <label>ë¹„ë°€ë²ˆí˜¸ í™•ì¸:</label>
        <input
          type="password"
          value={state.values.confirmPassword}
          onChange={(e) => handleChange('confirmPassword', e.target.value)}
          onBlur={() => handleBlur('confirmPassword')}
        />
        {state.touched.confirmPassword && state.errors.confirmPassword && (
          <span style={{ color: 'red' }}>{state.errors.confirmPassword}</span>
        )}
      </div>
      
      <button type="submit">íšŒì›ê°€ì…</button>
    </form>
  );
}
```

**ì •ë‹µ 5: ìŒì•… í”Œë ˆì´ì–´**
```javascript
import { useReducer } from 'react';

const playlist = [
  { id: 1, title: 'ë…¸ë˜ 1', artist: 'ê°€ìˆ˜ 1' },
  { id: 2, title: 'ë…¸ë˜ 2', artist: 'ê°€ìˆ˜ 2' },
  { id: 3, title: 'ë…¸ë˜ 3', artist: 'ê°€ìˆ˜ 3' },
  { id: 4, title: 'ë…¸ë˜ 4', artist: 'ê°€ìˆ˜ 4' }
];

const initialState = {
  playlist,
  currentTrack: 0,
  isPlaying: false,
  volume: 50,
  shuffle: false,
  repeat: 'none' // 'none', 'one', 'all'
};

function playerReducer(state, action) {
  switch (action.type) {
    case 'PLAY':
      return {
        ...state,
        isPlaying: true
      };
    
    case 'PAUSE':
      return {
        ...state,
        isPlaying: false
      };
    
    case 'NEXT_TRACK':
      let nextTrack;
      if (state.shuffle) {
        nextTrack = Math.floor(Math.random() * state.playlist.length);
      } else {
        nextTrack = state.currentTrack + 1;
        if (nextTrack >= state.playlist.length) {
          if (state.repeat === 'all') {
            nextTrack = 0;
          } else {
            nextTrack = state.currentTrack;
            return { ...state, isPlaying: false };
          }
        }
      }
      return {
        ...state,
        currentTrack: nextTrack
      };
    
    case 'PREVIOUS_TRACK':
      let prevTrack;
      if (state.shuffle) {
        prevTrack = Math.floor(Math.random() * state.playlist.length);
      } else {
        prevTrack = state.currentTrack - 1;
        if (prevTrack < 0) {
          if (state.repeat === 'all') {
            prevTrack = state.playlist.length - 1;
          } else {
            prevTrack = 0;
          }
        }
      }
      return {
        ...state,
        currentTrack: prevTrack
      };
    
    case 'SET_VOLUME':
      return {
        ...state,
        volume: action.volume
      };
    
    case 'TOGGLE_SHUFFLE':
      return {
        ...state,
        shuffle: !state.shuffle
      };
    
    case 'SET_REPEAT':
      const repeatModes = ['none', 'one', 'all'];
      const currentIndex = repeatModes.indexOf(state.repeat);
      const nextIndex = (currentIndex + 1) % repeatModes.length;
      return {
        ...state,
        repeat: repeatModes[nextIndex]
      };
    
    default:
      return state;
  }
}

function MusicPlayer() {
  const [state, dispatch] = useReducer(playerReducer, initialState);
  
  const currentSong = state.playlist[state.currentTrack];
  
  const togglePlay = () => {
    if (state.isPlaying) {
      dispatch({ type: 'PAUSE' });
    } else {
      dispatch({ type: 'PLAY' });
    }
  };
  
  const nextTrack = () => {
    dispatch({ type: 'NEXT_TRACK' });
  };
  
  const previousTrack = () => {
    dispatch({ type: 'PREVIOUS_TRACK' });
  };
  
  const setVolume = (volume) => {
    dispatch({ type: 'SET_VOLUME', volume });
  };
  
  const toggleShuffle = () => {
    dispatch({ type: 'TOGGLE_SHUFFLE' });
  };
  
  const setRepeat = () => {
    dispatch({ type: 'SET_REPEAT' });
  };
  
  return (
    <div style={{ padding: '20px', border: '1px solid #ccc', maxWidth: '400px' }}>
      <h2>ìŒì•… í”Œë ˆì´ì–´</h2>
      
      {/* í˜„ì¬ ì¬ìƒ ì¤‘ì¸ ê³¡ */}
      <div style={{ textAlign: 'center', margin: '20px 0' }}>
        <h3>{currentSong.title}</h3>
        <p>{currentSong.artist}</p>
        <p>ìƒíƒœ: {state.isPlaying ? 'ì¬ìƒ ì¤‘' : 'ì¼ì‹œì •ì§€'}</p>
      </div>
      
      {/* ì»¨íŠ¸ë¡¤ ë²„íŠ¼ */}
      <div style={{ textAlign: 'center', margin: '20px 0' }}>
        <button onClick={previousTrack}>â®ï¸</button>
        <button onClick={togglePlay} style={{ margin: '0 10px' }}>
          {state.isPlaying ? 'â¸ï¸' : 'â–¶ï¸'}
        </button>
        <button onClick={nextTrack}>â­ï¸</button>
      </div>
      
      {/* ë³¼ë¥¨ ì¡°ì ˆ */}
      <div style={{ margin: '20px 0' }}>
        <label>ë³¼ë¥¨: {state.volume}%</label>
        <input
          type="range"
          min="0"
          max="100"
          value={state.volume}
          onChange={(e) => setVolume(parseInt(e.target.value))}
          style={{ width: '100%' }}
        />
      </div>
      
      {/* ì¶”ê°€ ì˜µì…˜ */}
      <div style={{ margin: '20px 0' }}>
        <button
          onClick={toggleShuffle}
          style={{ backgroundColor: state.shuffle ? '#ccc' : 'white' }}
        >
          ğŸ”€ ì…”í”Œ
        </button>
        <button onClick={setRepeat} style={{ marginLeft: '10px' }}>
          {state.repeat === 'none' && 'ğŸ” ë°˜ë³µ ì—†ìŒ'}
          {state.repeat === 'one' && 'ğŸ”‚ í•œ ê³¡ ë°˜ë³µ'}
          {state.repeat === 'all' && 'ğŸ” ì „ì²´ ë°˜ë³µ'}
        </button>
      </div>
      
      {/* í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ */}
      <div>
        <h4>í”Œë ˆì´ë¦¬ìŠ¤íŠ¸</h4>
        <ul style={{ listStyle: 'none', padding: 0 }}>
          {state.playlist.map((song, index) => (
            <li
              key={song.id}
              style={{
                padding: '5px',
                backgroundColor: index === state.currentTrack ? '#e6f3ff' : 'white',
                border: '1px solid #ddd',
                margin: '2px 0'
              }}
            >
              {song.title} - {song.artist}
            </li>
          ))}
        </ul>
      </div>
    </div>
  );
}
```
