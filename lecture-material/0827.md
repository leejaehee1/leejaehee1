블로그 서비스도 **Serverless**로 충분히 만들 수 있습니다.
API Gateway + Lambda + DynamoDB + S3 조합으로 “간단한 블로그 서비스”를 구현하는 예제를 알려드릴게요.

---

# 📝 Serverless 블로그 서비스 예제

## 📌 아키텍처 개요

* **API Gateway**: REST API 엔드포인트 (게시글 CRUD 요청 처리)
* **Lambda**: 게시글 작성/조회/수정/삭제 로직 실행
* **DynamoDB**: 게시글 메타데이터 저장 (제목, 내용, 작성자, 날짜 등)
* **S3**: 이미지/첨부 파일 저장소
* **CloudFront**(선택): 정적 페이지(리액트 프론트엔드) 배포

---

## 📂 DynamoDB 테이블 예시

```json
{
  "TableName": "BlogPosts",
  "KeySchema": [
    { "AttributeName": "postId", "KeyType": "HASH" }
  ],
  "AttributeDefinitions": [
    { "AttributeName": "postId", "AttributeType": "S" }
  ],
  "ProvisionedThroughput": {
    "ReadCapacityUnits": 5,
    "WriteCapacityUnits": 5
  }
}
```

---

## ⚡ Lambda 함수 예제 (Node.js)

### 1. 게시글 작성 (Create)

```js
const { v4: uuidv4 } = require("uuid");
const AWS = require("aws-sdk");
const dynamoDb = new AWS.DynamoDB.DocumentClient();

exports.handler = async (event) => {
  const data = JSON.parse(event.body);
  const postId = uuidv4();

  const params = {
    TableName: "BlogPosts",
    Item: {
      postId,
      title: data.title,
      content: data.content,
      author: data.author,
      createdAt: new Date().toISOString()
    },
  };

  await dynamoDb.put(params).promise();

  return {
    statusCode: 201,
    body: JSON.stringify({ message: "Post created", postId }),
  };
};
```

---

### 2. 게시글 조회 (Read)

```js
exports.handler = async (event) => {
  const postId = event.pathParameters.id;

  const params = {
    TableName: "BlogPosts",
    Key: { postId },
  };

  const result = await dynamoDb.get(params).promise();

  return {
    statusCode: 200,
    body: JSON.stringify(result.Item),
  };
};
```

---

### 3. 게시글 목록 (List)

```js
exports.handler = async () => {
  const params = {
    TableName: "BlogPosts",
    Limit: 20, // 페이지네이션
  };

  const result = await dynamoDb.scan(params).promise();

  return {
    statusCode: 200,
    body: JSON.stringify(result.Items),
  };
};
```

---

### 4. 게시글 수정 (Update)

```js
exports.handler = async (event) => {
  const postId = event.pathParameters.id;
  const data = JSON.parse(event.body);

  const params = {
    TableName: "BlogPosts",
    Key: { postId },
    UpdateExpression: "set title = :t, content = :c",
    ExpressionAttributeValues: {
      ":t": data.title,
      ":c": data.content,
    },
    ReturnValues: "UPDATED_NEW",
  };

  const result = await dynamoDb.update(params).promise();

  return {
    statusCode: 200,
    body: JSON.stringify(result.Attributes),
  };
};
```

---

### 5. 게시글 삭제 (Delete)

```js
exports.handler = async (event) => {
  const postId = event.pathParameters.id;

  const params = {
    TableName: "BlogPosts",
    Key: { postId },
  };

  await dynamoDb.delete(params).promise();

  return {
    statusCode: 200,
    body: JSON.stringify({ message: "Post deleted" }),
  };
};
```

---

## 🚀 Serverless Framework 설정 (serverless.yml)

```yaml
service: blog-service

provider:
  name: aws
  runtime: nodejs18.x
  region: ap-northeast-2

functions:
  createPost:
    handler: create.handler
    events:
      - http:
          path: posts
          method: post
  getPost:
    handler: get.handler
    events:
      - http:
          path: posts/{id}
          method: get
  listPosts:
    handler: list.handler
    events:
      - http:
          path: posts
          method: get
  updatePost:
    handler: update.handler
    events:
      - http:
          path: posts/{id}
          method: put
  deletePost:
    handler: delete.handler
    events:
      - http:
          path: posts/{id}
          method: delete

resources:
  Resources:
    BlogPostsTable:
      Type: AWS::DynamoDB::Table
      Properties:
        TableName: BlogPosts
        AttributeDefinitions:
          - AttributeName: postId
            AttributeType: S
        KeySchema:
          - AttributeName: postId
            KeyType: HASH
        BillingMode: PAY_PER_REQUEST
```

---

## 🌐 프론트엔드 연동

* **React/Next.js** 정적 블로그 UI 작성
* **Axios / fetch** 로 API Gateway 호출
* **S3/CloudFront**로 정적 페이지 호스팅

그럼 **텍스트 기반 블로그 API**만 다루는 **Serverless 예제**를 정리해드릴게요.

---

# 📝 텍스트 기반 블로그 API (Serverless)

## 📌 아키텍처

* **API Gateway** → REST 엔드포인트 제공
* **Lambda (Node.js)** → 게시글 CRUD 처리
* **DynamoDB** → 게시글 저장소 (제목, 본문, 작성자, 생성일 등)

👉 S3, CloudFront 같은 파일 스토리지는 생략하고 **텍스트 데이터만** 다룹니다.

---

## 📂 DynamoDB 테이블 구조

* 테이블명: `BlogPosts`
* 파티션 키: `postId (String)`

예시 데이터:

```json
{
  "postId": "1234-5678",
  "title": "첫 번째 글",
  "content": "안녕하세요! 서버리스 블로그입니다.",
  "author": "jaehee",
  "createdAt": "2025-08-25T12:00:00Z"
}
```

---

## ⚡ Lambda 함수 예제

### 1. 게시글 작성 (Create)

```js
const { v4: uuidv4 } = require("uuid");
const AWS = require("aws-sdk");
const dynamoDb = new AWS.DynamoDB.DocumentClient();

exports.handler = async (event) => {
  const data = JSON.parse(event.body);
  const postId = uuidv4();

  const params = {
    TableName: "BlogPosts",
    Item: {
      postId,
      title: data.title,
      content: data.content,
      author: data.author,
      createdAt: new Date().toISOString(),
    },
  };

  await dynamoDb.put(params).promise();

  return {
    statusCode: 201,
    body: JSON.stringify({ message: "Post created", postId }),
  };
};
```

---

### 2. 게시글 조회 (Read)

```js
exports.handler = async (event) => {
  const postId = event.pathParameters.id;

  const params = {
    TableName: "BlogPosts",
    Key: { postId },
  };

  const result = await dynamoDb.get(params).promise();

  return {
    statusCode: 200,
    body: JSON.stringify(result.Item || {}),
  };
};
```

---

### 3. 게시글 목록 (List)

```js
exports.handler = async () => {
  const params = { TableName: "BlogPosts" };
  const result = await dynamoDb.scan(params).promise();

  return {
    statusCode: 200,
    body: JSON.stringify(result.Items),
  };
};
```

---

### 4. 게시글 수정 (Update)

```js
exports.handler = async (event) => {
  const postId = event.pathParameters.id;
  const data = JSON.parse(event.body);

  const params = {
    TableName: "BlogPosts",
    Key: { postId },
    UpdateExpression: "set title = :t, content = :c",
    ExpressionAttributeValues: {
      ":t": data.title,
      ":c": data.content,
    },
    ReturnValues: "UPDATED_NEW",
  };

  const result = await dynamoDb.update(params).promise();

  return {
    statusCode: 200,
    body: JSON.stringify(result.Attributes),
  };
};
```

---

### 5. 게시글 삭제 (Delete)

```js
exports.handler = async (event) => {
  const postId = event.pathParameters.id;

  const params = {
    TableName: "BlogPosts",
    Key: { postId },
  };

  await dynamoDb.delete(params).promise();

  return {
    statusCode: 200,
    body: JSON.stringify({ message: "Post deleted" }),
  };
};
```

---

## 🚀 serverless.yml 설정

```yaml
service: text-blog-service

provider:
  name: aws
  runtime: nodejs18.x
  region: ap-northeast-2

functions:
  createPost:
    handler: create.handler
    events:
      - http:
          path: posts
          method: post
  getPost:
    handler: get.handler
    events:
      - http:
          path: posts/{id}
          method: get
  listPosts:
    handler: list.handler
    events:
      - http:
          path: posts
          method: get
  updatePost:
    handler: update.handler
    events:
      - http:
          path: posts/{id}
          method: put
  deletePost:
    handler: delete.handler
    events:
      - http:
          path: posts/{id}
          method: delete

resources:
  Resources:
    BlogPostsTable:
      Type: AWS::DynamoDB::Table
      Properties:
        TableName: BlogPosts
        AttributeDefinitions:
          - AttributeName: postId
            AttributeType: S
        KeySchema:
          - AttributeName: postId
            KeyType: HASH
        BillingMode: PAY_PER_REQUEST
```

---

✅ 이렇게 하면 **완전한 서버리스 블로그 API**가 동작합니다.
(글쓰기/조회/수정/삭제 모두 지원)
